<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login Page</title>
<link rel="stylesheet" href="login.css">
</head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;700&family=Montserrat:wght@100;200;600;900&display=swap" rel="stylesheet">
<body>
    <div class="login-container">
      <div class="login-title">Login</div>
      <div class="input-group">
        <label for="username">Username</label>
        <input type="text" id="username" class="userName" >
      </div>
      <div class="input-group">
        <label for="password">Password</label>
        <input type="password" id="password" class="password">
        <div class="forgot-password">Forgot Password?</div>
      </div>
      <button class="login-button" type="submit">Login</button>
      <div class="signup-now"> <a href="Signup.html">Sign Up Now</a></div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const loginButton = document.querySelector('.login-button');
        
        loginButton.addEventListener('click', async function() {
          const username = document.getElementById('username').value;
          const password = document.getElementById('password').value;
          
          try {
            const response = await fetch('http://localhost:5005/api/v1/users/posts/', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({
                username: username,
                password: password
              })
            });
            
            if (response.ok) {
              // Successful login logic, e.g., redirect to a dashboard page
              console.log('Login successful!');
            } else {
              // Handle unsuccessful login, e.g., display an error message
              console.log('Login failed');
            }
          } catch (error) {
            // Handle any network or API errors
            console.error('Error:', error);
          }
        });
      });
    </script>
</body>
</html>